<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/index.css">
    <link rel="shortcut icon" href="media/favicon.ico" type="image/x-icon">
    <script src="https://kit.fontawesome.com/279a7b8cf7.js" crossorigin="anonymous"></script>
    <title>Focus on DailyMotion</title>
</head>
<body>
    <header>
        <nav id="nav">
            <img src="media/oldlogo_dailymotion.webp" alt="Ancien logo de DailyMotion">
            <ul>
                <li><a href="histoire">L'histoire</a></li>
                <li><a href="audience">L'audience</a></li>
                <li><a href="createurs">Les créateurs</a></li>
                <li><a href="autres-services">Les autres services</a></li>
            </ul>
            <span>
                <i class="fa-solid fa-angle-right"></i>
            </span>
        </nav>
        <script>
            document.getElementById('nav').addEventListener('mouseenter', (event) => {
                document.getElementById('nav').style.width = '90%';
            });
            document.getElementById('nav').addEventListener('mouseleave', (event) => {
                if (window.scrollY != 0) {
                    document.getElementById('nav').style.width = '120px';
                }
            });
        </script>
        <nav id="mobileNav">
            <span>
                <img src="media/oldlogo_dailymotion.webp" alt="Ancien logo de DailyMotion">
                <i id="angle" class="fa-solid fa-angle-down"></i>
            </span>
            <ul>
                <li style="margin-top: 5px;"><a href="histoire">L'histoire</a></li>
                <li><a href="audience">L'audience</a></li>
                <li><a href="createurs">Les créateurs</a></li>
                <li style="margin-bottom: 5px;"><a href="autres-services">Les autres services</a></li>
            </ul>
        </nav>
        <script>
            var etat = false;
            document.getElementById('mobileNav').addEventListener('click', (event) => {
                if (etat == false) {
                    etat = true;
                    document.getElementById('mobileNav').style.height = '300px';
                    document.getElementById('angle').style.transform = 'rotate(-180deg)';
                } else {
                    etat = false;
                    document.getElementById('mobileNav').style.height = '60px';
                    document.getElementById('angle').style.transform = 'rotate(-0deg)';
                }
            });
        </script>
        <div class="navigationOnPage">
            <a href="" id="upSection" style="opacity: 0; pointer-events: none;"><i class="fa-solid fa-angle-up"></i></a>
            <a href="#histoire" id="downSection"><i class="fa-solid fa-angle-down"></i></a>
        </div>
    </header>
    <main>
        <section id="dailymotion">
            <div class="container">
                <h2>Focus on <img src="media/logo_dailymotion.webp" alt="DailyMotion"></h2>
                <p>« Lorem ipsum dolor, sit amet consectetur adipisicing elit. »</p>
            </div>
        </section>
        <section id="histoire">
            <div class="container">
                <h2>L'histoire</h2>
                <a href="histoire">Voir l'article</a>
            </div>
        </section>
        <section id="audience">
            <div class="container">
                <h2>L'audience</h2>
                <a href="audience">Voir l'article</a>
            </div>
        </section>
        <section id="createurs">
            <div class="container">
                <h2>Les créateurs</h2>
                <a href="createurs">Voir l'article</a>
            </div>
        </section>
        <section id="services">
            <div class="container">
                <h2>Les autres services</h2>
                <a href="autres-services">Voir l'article</a>
            </div>
        </section>
        <section id="footer">
            <div class="container">
                <h3><a href="https://github.com/Toinot">Page créée par Toinot GURY</a></h3>
                <div class="legal-data">
                    <a href="">GitHub</a>
                    <span> - </span>
                    <a href="">Mentions légales</a>
                </div>
            </div>
        </section>
    </main>
    <script>
        let dataNavigationOnPage = [
            ['dailymotion', '#fff'],
            ['histoire', '#000'],
            ['audience', '#fff'],
            ['createurs', '#fff'],
            ['services', '#fff'],
            ['footer', '#fff']
        ];
        function navigationOnPage () {
            if (window.scrollY == 0) {
                document.getElementById('nav').style.width = '90%';
            } else {
                document.getElementById('nav').style.width = '120px';
            }
            let displaySection = [0, -1];
            for (let index = 0; index < dataNavigationOnPage.length; index++) {
                var positionSection = ((document.getElementById(dataNavigationOnPage[index][0]).getBoundingClientRect().top)*-1)+(window.innerHeight/2);
                if ((positionSection >= 0 && positionSection < displaySection[1]) || displaySection[1] == -1) {
                    displaySection[0] = index;
                    displaySection[1] = positionSection;
                }
            }
            if (displaySection[0] == 0) {
                document.getElementById('upSection').style.opacity = '0';
                document.getElementById('upSection').style.pointerEvents = 'none';
                document.getElementById('downSection').style.opacity = '100%';
                document.getElementById('downSection').style.pointerEvents = 'all';
                document.getElementById('upSection').href = '#';
                document.getElementById('downSection').href = '#' + dataNavigationOnPage[displaySection[0]+1][0];
            } else if (displaySection[0] == dataNavigationOnPage.length - 1) {
                document.getElementById('downSection').style.opacity = '0';
                document.getElementById('downSection').style.pointerEvents = 'none';
                document.getElementById('upSection').style.opacity = '100%';
                document.getElementById('upSection').style.pointerEvents = 'all';
                document.getElementById('downSection').href = '#';
                document.getElementById('upSection').href = '#' + dataNavigationOnPage[displaySection[0]-1][0];
            } else {
                document.getElementById('upSection').style.opacity = '100%';
                document.getElementById('upSection').style.pointerEvents = 'all';
                document.getElementById('downSection').style.opacity = '100%';
                document.getElementById('downSection').style.pointerEvents = 'all';
                document.getElementById('upSection').href = '#' + dataNavigationOnPage[displaySection[0]-1][0];
                document.getElementById('downSection').href = '#' + dataNavigationOnPage[displaySection[0]+1][0];
            }
            document.getElementById('upSection').style.color = dataNavigationOnPage[displaySection[0]][1];
            document.getElementById('downSection').style.color = dataNavigationOnPage[displaySection[0]][1];
        }
        window.addEventListener('scroll', navigationOnPage);
    </script>
</body>
</html>